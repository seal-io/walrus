// SPDX-FileCopyrightText: 2023 Seal, Inc
// SPDX-License-Identifier: Apache-2.0

// Code generated by "ent". DO NOT EDIT.

package model

import (
	"time"

	"github.com/seal-io/seal/pkg/dao/types"
	"github.com/seal-io/seal/pkg/dao/types/oid"
)

// PerspectiveQueryInput is the input for the Perspective query.
type PerspectiveQueryInput struct {
	// ID holds the value of the "id" field.
	ID oid.ID `uri:"id,omitempty" json:"id,omitempty"`
}

// Model converts the PerspectiveQueryInput to Perspective.
func (in PerspectiveQueryInput) Model() *Perspective {
	return &Perspective{
		ID: in.ID,
	}
}

// PerspectiveCreateInput is the input for the Perspective creation.
type PerspectiveCreateInput struct {
	// Name holds the value of the "name" field.
	Name string `json:"name"`
	// Description holds the value of the "description" field.
	Description string `json:"description,omitempty"`
	// Labels holds the value of the "labels" field.
	Labels map[string]string `json:"labels,omitempty"`
	// Start time for the perspective.
	StartTime string `json:"startTime"`
	// End time for the perspective.
	EndTime string `json:"endTime"`
	// Is builtin perspective.
	Builtin bool `json:"builtin,omitempty"`
	// Indicated the perspective included allocation queries, record the used query condition.
	AllocationQueries []types.QueryCondition `json:"allocationQueries,omitempty"`
}

// Model converts the PerspectiveCreateInput to Perspective.
func (in PerspectiveCreateInput) Model() *Perspective {
	var entity = &Perspective{
		Name:              in.Name,
		Description:       in.Description,
		Labels:            in.Labels,
		StartTime:         in.StartTime,
		EndTime:           in.EndTime,
		Builtin:           in.Builtin,
		AllocationQueries: in.AllocationQueries,
	}
	return entity
}

// PerspectiveUpdateInput is the input for the Perspective modification.
type PerspectiveUpdateInput struct {
	// ID holds the value of the "id" field.
	ID oid.ID `uri:"id" json:"-"`
	// Name holds the value of the "name" field.
	Name string `json:"name,omitempty"`
	// Description holds the value of the "description" field.
	Description string `json:"description,omitempty"`
	// Labels holds the value of the "labels" field.
	Labels map[string]string `json:"labels,omitempty"`
	// Start time for the perspective.
	StartTime string `json:"startTime,omitempty"`
	// End time for the perspective.
	EndTime string `json:"endTime,omitempty"`
	// Is builtin perspective.
	Builtin bool `json:"builtin,omitempty"`
	// Indicated the perspective included allocation queries, record the used query condition.
	AllocationQueries []types.QueryCondition `json:"allocationQueries,omitempty"`
}

// Model converts the PerspectiveUpdateInput to Perspective.
func (in PerspectiveUpdateInput) Model() *Perspective {
	var entity = &Perspective{
		ID:                in.ID,
		Name:              in.Name,
		Description:       in.Description,
		Labels:            in.Labels,
		StartTime:         in.StartTime,
		EndTime:           in.EndTime,
		Builtin:           in.Builtin,
		AllocationQueries: in.AllocationQueries,
	}
	return entity
}

// PerspectiveOutput is the output for the Perspective.
type PerspectiveOutput struct {
	// ID holds the value of the "id" field.
	ID oid.ID `json:"id,omitempty"`
	// Name holds the value of the "name" field.
	Name string `json:"name,omitempty"`
	// Description holds the value of the "description" field.
	Description string `json:"description,omitempty"`
	// Labels holds the value of the "labels" field.
	Labels map[string]string `json:"labels,omitempty"`
	// CreateTime holds the value of the "createTime" field.
	CreateTime *time.Time `json:"createTime,omitempty"`
	// UpdateTime holds the value of the "updateTime" field.
	UpdateTime *time.Time `json:"updateTime,omitempty"`
	// Start time for the perspective.
	StartTime string `json:"startTime,omitempty"`
	// End time for the perspective.
	EndTime string `json:"endTime,omitempty"`
	// Is builtin perspective.
	Builtin bool `json:"builtin,omitempty"`
	// Indicated the perspective included allocation queries, record the used query condition.
	AllocationQueries []types.QueryCondition `json:"allocationQueries,omitempty"`
}

// ExposePerspective converts the Perspective to PerspectiveOutput.
func ExposePerspective(in *Perspective) *PerspectiveOutput {
	if in == nil {
		return nil
	}
	var entity = &PerspectiveOutput{
		ID:                in.ID,
		Name:              in.Name,
		Description:       in.Description,
		Labels:            in.Labels,
		CreateTime:        in.CreateTime,
		UpdateTime:        in.UpdateTime,
		StartTime:         in.StartTime,
		EndTime:           in.EndTime,
		Builtin:           in.Builtin,
		AllocationQueries: in.AllocationQueries,
	}
	return entity
}

// ExposePerspectives converts the Perspective slice to PerspectiveOutput pointer slice.
func ExposePerspectives(in []*Perspective) []*PerspectiveOutput {
	var out = make([]*PerspectiveOutput, 0, len(in))
	for i := 0; i < len(in); i++ {
		var o = ExposePerspective(in[i])
		if o == nil {
			continue
		}
		out = append(out, o)
	}
	if len(out) == 0 {
		return nil
	}
	return out
}
